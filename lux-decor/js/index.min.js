let ua=window.navigator.userAgent,msie=ua.indexOf("MSIE"),isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}},move_array=[];function dynamic_adaptive(){let e=$(window).outerWidth();$.each($("*[data-move]"),(function(o,s){if(""!=$(this).data("move")&&null!=$(this).data("move")){let o=$(this).data("move").split(","),s=$("."+o[0]),a=o[1],t=o[2];e<t?$(this).hasClass("js-move_done_"+t)||(a>0?$(this).insertAfter(s.find("*").eq(a-1)):"last"==a?$(this).appendTo(s):$(this).prependTo(s),$(this).addClass("js-move_done_"+t)):$(this).hasClass("js-move_done_"+t)&&(dynamic_adaptive_back($(this)),$(this).removeClass("js-move_done_"+t))}}))}function dynamic_adaptive_back(e){let o=e.data("move-index"),s=move_array[o],a=s.parent,t=s.index;t>0?a.children().eq(t-1).length?e.insertAfter(a.children().eq(t-1)):e.appendTo(a):e.prependTo(a)}$("*[data-move]")&&$.each($("*[data-move]"),(function(e,o){""!=$(this).data("move")&&null!=$(this).data("move")&&($(this).attr("data-move-index",e),move_array[e]={parent:$(this).parent(),index:$(this).index()})})),$(window).resize((function(e){dynamic_adaptive()})),dynamic_adaptive(),$(".main-slider").slick({dots:!0,infinite:!0,speed:800,slidesToShow:1,autoplay:!0,autoplaySpeed:5e3,responsive:[{breakpoint:968,settings:{arrows:!1}}]}),$(".slider-products").slick({infinite:!0,speed:800,slidesToShow:4,slidesToScroll:4,adaptiveHeight:!1,responsive:[{breakpoint:768,settings:{arrows:!1,slidesToShow:3,slidesToScroll:3}},{breakpoint:560,settings:{arrows:!1,centerMode:!1,centerPadding:"0px",slidesToShow:2,slidesToScroll:2}}]}),$(".slider-useful").slick({dots:!0,arrows:!1,infinite:!0,speed:800,slidesToShow:2,slidesToScroll:2,autoplaySpeed:5e3,responsive:[{breakpoint:660,settings:{slidesToShow:1,slidesToScroll:1}}]}),$((function(){$("#price-slider").slider({animate:"slow",range:!0,min:0,max:2e4,values:[0,2e4],slide:function(e,o){$("#min-value-price").val(o.values[0]),$("#max-value-price").val(o.values[1])}}),$("#min-value-price").val($("#price-slider").slider("values",0)),$("#max-value-price").val($("#price-slider").slider("values",1)),$("#min-value-price").change((function(e){$("#price-slider").slider("values",0,$(this).val())})),$("#max-value-price").change((function(e){$("#price-slider").slider("values",1,$(this).val())}))})),$(".js-popup-link").click((function(e){const o=$(this).attr("href");e.preventDefault(),popupClose(),popupOpen($(o)),bodyScrollLock()})),$(".js-popup-close").click((function(e){popupClose(),bodyScrollUnlock()})),$(".product-card__button").click((function(e){e.preventDefault(),popupClose(),popupOpen($("#popup-order")),bodyScrollLock()}));let popupClickHandler=function(e){e.target!==$(this).find(".popup__body")[0]&&e.target!==$(this)[0]||(popupClose(),bodyScrollUnlock())},windowKeydownHandler=function(e){27===e.key&&(e.preventDefault,popupClose(),bodyScrollUnlock())};function popupOpen(e){e.addClass("_open"),e.on("click",popupClickHandler),$(window).on("keydown",windowKeydownHandler)}function popupClose(){if($(".popup").hasClass("_open")){const e=$(".popup._open").find(".form");e[0]&&formClear(e),$(".popup._open").off("click",popupClickHandler),$(".popup._open").removeClass("_open"),$(window).off("keydown",windowKeydownHandler)}}function bodyScrollLock(){const e=$(window).outerWidth()-$("body").innerWidth();"0px"===$("body").css("paddingRight")&&$("body").addClass("_popup-open").css("paddingRight",e+"px")}function bodyScrollUnlock(){setTimeout((function(){$("body").removeClass("_popup-open").css("paddingRight","0px")}),300)}function popupMessageOpen(e){$(".popup__content_message").html(e),popupOpen($("#popup-message")),setTimeout(popupClose,2500)}const forms=$(".form"),popupForms=$(".form-popup"),feedbackForms=$(".form_feedback"),timeout=1e4,duration=400;let timerId=null;function createFormPopupMessage(e){e.find(".js-req").parent().prepend('\n   <div class="form__popup-message">\n      <span></span>\n      <button type="button">x</button>\n   </div>')}function showFormPopupMessage(e,o="Заполните это поле"){const s=e.siblings(".form__popup-message");s.find("span").html(o),s.fadeIn(400).on("click.message","button",(function(){hidePopupFormMessage(s)})),timerId=setTimeout((function(){hidePopupFormMessage(s)}),1e4)}function hidePopupFormMessage(e){e.fadeOut(400).off("click.message"),timerId&&(clearTimeout(timerId),timerId=null)}function formSend(e,o){if(formTestError(e))o.preventDefault();else{const s=e.attr("action")?e.attr("action").trim():"#",a=e.attr("method")?e.attr("method").trim():"GET",t=e.attr("data-ajax"),i=e.attr("data-message")?e.attr("data-message"):"Форма отправлена";if(t){o.preventDefault();let t=new FormData(e[0]);e.addClass("_sending"),$.ajax({url:s,type:a,data:t,contentType:!1,cache:!1,processData:!1}).done((function(){e.hasClass("form_feedback")&&popupMessageOpen(i)})).fail((function(e,o,s){popupMessageOpen(`Ошибка отправки <br> ${o} ${e.status}`)})).always((function(){e[0].reset(),e.removeClass("_sending")}))}}}function formTestError(e){let o=e.find(".js-req").not("._valid").first();return(o.hasClass("js-email")&&!emailValid(o)||o.hasClass("js-pass")&&!passValid(o)||!(!o.hasClass("js-pass-repeat")||passCompare(e)))&&(addError(o),!0)}function formValidation(e){e.hasClass("js-email")?emailValid(e)?addValid(e):removeValid(e):e.hasClass("js-pass")?passValid(e)?addValid(e):removeValid(e):e.hasClass("js-pass-repeat")?passCompare(e.closest(".form"))?addValid(e):removeValid(e):e.hasClass("js-tel")||(e.val().length>0?addValid(e):removeValid(e))}function emailValid(e){return!!emailTest(e)||(""===e.val().trim()?(showFormPopupMessage(e,"Введите свой адресс электронной почты."),!1):(showFormPopupMessage(e,"Введите коректный адресс электронной почты."),!1))}function passValid(e){return!!passTest(e)||(""===e.val().trim()?(showFormPopupMessage(e,"Введите пароль."),!1):e.val().trim().length<8?(showFormPopupMessage(e,"Пароль должен иметь длину не меннее 8 символов"),!1):/(\p{Lu})(\p{Ll})/gu.test(e.val())?/\p{N}/gu.test(e.val())?(showFormPopupMessage(e,"Пароль может содержать только цифры и буквы латинского алфавита, а также символы !@#$%^&*_"),!1):(showFormPopupMessage(e,"Пароль должен содержать хотя бы одну цифру или символ !@#$%^&*_"),!1):(showFormPopupMessage(e,"Пароль должен содержать хотя бы одну заглавную и одну строчную буквы"),!1))}function passCompare(e){return e.find("#user-pass").val()===e.find("#user-pass-repeat").val()||(showFormPopupMessage(e.find("#user-pass-repeat"),"Пароли не совпадают"),!1)}function addValid(e){e.addClass("_valid").parent().addClass("_valid")}function removeValid(e){e.removeClass("_valid").parent().removeClass("_valid")}function addError(e){e.addClass("_error").parent().addClass("_error")}function removeError(e){e.removeClass("_error").parent().removeClass("_error")}function emailTest(e){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.val())}function passTest(e){return/(?=.*[0-9!@#$%^&*_])(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z!@#$%^&*]{8,}/g.test(e.val())}function formClear(e){const o=e.find(".form__input");e[0].reset(),removeValid(o),removeError(o)}forms.find(".form__input").focus((function(){$(this).parent(".form__item").addClass("_focus"),removeError($(this)),$(this).siblings(".form__popup-message").length&&hidePopupFormMessage($(this).siblings(".form__popup-message"))})),forms.find(".form__input").blur((function(){$(this).parent(".form__item").removeClass("_focus")})),forms.find(".form__toggle-pass").click((function(){$(this).toggleClass("_active");const e=$(this).siblings(".form__input");"password"===e.attr("type")?e.attr("type","text"):e.attr("type","password")})),feedbackForms.submit((function(e){formSend($(this),e)})),$(".form-popup").on("change","input",(function(){formValidation($(this))})),$(".form-popup").submit((function(e){formSend($(this),e)})),$("#user-tel").inputmask({mask:"+38(999) 999 99 99",placeholder:"  ",onincomplete:function(){removeValid($("#user-tel"))},onKeyValidation:function(e,o){o||addValid($("#user-tel"))}}),createFormPopupMessage(popupForms),createFormPopupMessage(feedbackForms);let breakpoint_md4=660;function collapsCatalog(){$(".catalog-menu__head").removeClass("_active"),$(".catalog-menu__body").removeClass("_active"),resetCatalogMenu()}function resetCatalogMenu(){$(".catalog-menu__body ._slide-left").removeClass("_slide-left"),$(".catalog-menu__body ._active").removeClass("_active"),$(".catalog-menu__list").scrollTop(0),$(".catalog-submenu__body").scrollTop(0)}resetCatalogMenu(),$(".catalog-menu__head").click((function(){$(this).toggleClass("_active"),isMobile.any()?($(window).outerWidth()<breakpoint_md4?($(".catalog-menu__body").slideDown(0),$(".catalog-menu__body").toggleClass("_active")):$(".catalog-menu__body").slideToggle(300),resetCatalogMenu(),$("body").toggleClass("_catalog-menu-open")):$(".catalog-menu__body").slideToggle(300)})),isMobile.any()?($(".catalog-menu__item").click((function(e){$(this).siblings().has("._active").children().removeClass("_active"),$(this).children().addClass("_active"),$(this).closest(".catalog-menu__wrap").addClass("_slide-left")})),$(".catalog-submenu__back").click((function(e){e.stopPropagation();let o=$(this);setTimeout((function(){o.closest("._active").removeClass("_active")}),300),o.closest("._slide-left").removeClass("_slide-left")})),$("body").click((function(e){!$(".catalog-menu").find("*").is(e.target)&&$(".catalog-menu__head").hasClass("_active")&&collapsCatalog()}))):($(".catalog-menu__item").mouseenter((function(){$(this).children().addClass("_active")})),$(".catalog-menu__item").mouseleave((function(){$(this).children().removeClass("_active")}))),$(".main-menu__icon").click((function(){$(this).toggleClass("_active"),$(this).parent().toggleClass("_active"),$(".main-menu__body").toggleClass("_active").scrollTop(0),$("body").toggleClass("_main-menu-open")})),$("button").on("mouseup",(function(){$(this).blur()})),$("a").on("mouseup",(function(){$(this).blur()})),$(".sort__select").click((function(){$(this).toggleClass("_active"),$(".sort__list").slideToggle(100)}));const initialBottomValue=$(".back-up").css("bottom");$(document).scroll((function(e){let o=$(document).scrollTop()+$(window).height()-($(document).height()-350);$(document).scrollTop()>.6*$(window).height()?$(".back-up").addClass("_active"):$(".back-up").removeClass("_active"),o>0?$(".back-up").css("bottom",o):$(".back-up").css("bottom",initialBottomValue)})),$(".back-up__button").on("click",(function(){$("html, body").animate({scrollTop:0},500)}));
//# sourceMappingURL=index.min.js.map
